<div class="modal-overlay" [ngClass]="{'fechando': fechando}">
  <div class="modal-content" [ngClass]="{'fechando': fechando}">

    <!-- BotÃ£o fechar no topo -->
    <button class="btn-fechar-topo" (click)="fecharModal()">&times;</button>

    <div class="modal-header">
      <h2>{{ tarefa?.titulo }}</h2>
    </div>

    <hr class="linha1" />

    <div class="modal-body">
      <!-- Bloco de informaÃ§Ãµes -->
      <section class="info-bloco">
        <h4>ğŸ“… InformaÃ§Ãµes</h4>
        <p><strong>Vencimento:</strong> {{ tarefa?.dataVencimento | date:'dd/MM/yyyy' }}</p>
        
        <p><strong>Status:</strong>
          <span class="status" [ngClass]="tarefaStatusClass(tarefa?.flag)">
            {{ tarefa?.statusExecucao }}
          </span>
        </p>

        <!-- Exibe flag separada (se existir e nÃ£o for concluÃ­do) -->
        <p *ngIf="tarefa?.flag && tarefa?.flag !== Flag.Concluido">
          <strong>âš‘ Flag:</strong> 
          <span class="status" [ngClass]="tarefaStatusClass(tarefa?.flag)">
            {{ tarefa?.flag }}
          </span>
        </p>
      </section>

      <!-- Bloco de membros -->
      <section class="info-bloco">
        <h4>ğŸ‘¥ Membros</h4>
        <div class="membros">
          <span class="membro" *ngFor="let membro of tarefa?.membros">
            <i class="fas fa-user-circle"></i> {{ membro }}
          </span>
        </div>
      </section>

      <!-- Bloco de descriÃ§Ã£o -->
      <section class="info-bloco">
        <h4>ğŸ“ DescriÃ§Ã£o</h4>
        <p>{{ tarefa?.descricao || 'Sem descriÃ§Ã£o' }}</p>
      </section>
    </div>

    <hr class="linha2" />

    <!-- Footer com botÃµes Ã  esquerda -->
    <div class="modal-footer">
      <button class="btn-concluir" *ngIf="tarefa?.statusExecucao !== StatusExecucao.Concluido" (click)="concluirTarefa()"> 
        Concluir <i class="fas fa-check"></i> 
      </button>

      <button class="btn-editar" (click)="editarTarefa()"> 
        Editar informaÃ§Ãµes <i class="fas fa-edit"></i> 
      </button>
    </div>

    <!-- BotÃ£o de excluir -->
    <button class="btn-excluir" (click)="excluirTarefa()"> 
      Excluir <i class="fas fa-trash"></i> 
    </button>

  </div>
</div>
