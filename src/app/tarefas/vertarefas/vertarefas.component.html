<div class="modal-overlay" [ngClass]="{'fechando': fechando}" (click)="fecharModal()">

  <!-- Modal normal -->
  <div class="modal-content" [ngClass]="{'fechando': fechando, 'invisivel': mostrarCheck}" (click)="$event.stopPropagation()">

    <!-- BotÃ£o fechar topo -->
    <button class="btn-fechar-topo" (click)="fecharModal()">&times;</button>

    <!-- CabeÃ§alho -->
    <div class="modal-header">
      <h2>{{ tarefa?.titulo }}</h2>
    </div>

    <hr class="linha1" />

    <!-- Corpo -->
    <div class="modal-body">
      <section class="info-bloco">
        <h4>ğŸ“… InformaÃ§Ãµes</h4>
        <p><strong>Vencimento:</strong> {{ tarefa?.dataVencimento | date:'dd/MM/yyyy' }}</p>
        <p><strong>Status:</strong>
          <span class="status" [ngClass]="tarefaStatusClass(tarefa?.flag)">
            {{ tarefa?.statusExecucao }}
          </span>
        </p>
        <p *ngIf="tarefa?.flag">
          <strong>Flag:</strong>
          <span class="status" [ngClass]="tarefaStatusClass(tarefa?.flag)">
            {{ tarefa?.flag }}
          </span>
        </p>
      </section>

      <section class="info-bloco">
        <h4>ğŸ“ DescriÃ§Ã£o</h4>
        <p>{{ tarefa?.descricao || 'Sem descriÃ§Ã£o' }}</p>
      </section>
    </div>

    <hr class="linha2" />

    <!-- RodapÃ©: botÃµes distribuÃ­dos -->
    <div class="modal-footer">
      <div class="botoes-esquerda">
        <button class="btn-excluir" (click)="excluirTarefa()">
          Excluir <i class="fas fa-trash"></i>
        </button>
        <button class="btn-arquivar">
          Arquivar <i class="fas fa-archive"></i>
        </button>
      </div>

      <div class="botoes-direita">
        <button class="btn-editar" (click)="editarTarefa()">
          Editar <i class="fas fa-edit"></i>
        </button>
        <button class="btn-concluir" 
                *ngIf="tarefa?.statusExecucao !== StatusExecucao.Concluido" 
                (click)="concluirTarefa()">
          Concluir <i class="fas fa-check"></i>
        </button>
      </div>
    </div>

  </div>

  <!-- Check gigante -->
  <div class="check-grande" *ngIf="mostrarCheck">
    <i class="fas fa-check"></i>
  </div>

</div>
