<div class="equipes-main">
 
 
  <!-- Cards -->
  <div class="cards-container">
    <div *ngFor="let equipe of equipes" class="card" (click)="abrirDetalhes(equipe)">
      <div class="card-header">
        <i class="fas fa-users"></i>
        <span class="tag" [ngClass]="equipe.etiqueta">{{ equipe.etiqueta }}</span>
      </div>
 
      <div class="card-body">
        <h3>{{ equipe.nome }}</h3>
        <p class="lider"><strong>L√≠der:</strong> {{ equipe.lider }}</p>
 
        <div class="membros">
          <span *ngFor="let m of equipe.membros" class="membro">{{ m }}</span>
        </div>
 
        <div class="progress-container" *ngIf="equipe.checklist?.length">
          <div class="progress-bar" [style.width.%]="getProgresso(equipe)"></div>
        </div>
      </div>
    </div>
  </div>
 
  <!-- Bot√£o Nova Equipe -->
  <button class="nova-equipe-btn" (click)="abrirModal()">+ Nova equipe</button>
 
  <!-- Modal Criar Equipe -->
  <div class="modal" *ngIf="mostrarModal">
    <div class="modal-content">
      <h2>Criar Projeto</h2>
 
      <label>Nome do projeto</label>
      <input type="text" [(ngModel)]="novaEquipe.nome" placeholder="Digite o nome do projeto" />
 
      <label>L√≠der</label>
      <input type="text" [(ngModel)]="novaEquipe.lider" placeholder="Digite o nome do l√≠der" />
 
      <label>Membros (separar por v√≠rgula)</label>
      <input type="text" [(ngModel)]="novaEquipe.membrosInput" placeholder="Ex: Ana, Jo√£o, Carlos" />
 
      <label>Data prazo</label>
      <input type="date" [(ngModel)]="novaEquipe.dataPrazo" />
 
      <label>Descri√ß√£o</label>
      <textarea [(ngModel)]="novaEquipe.descricao" placeholder="Descreva o projeto..."></textarea>
 
      <div class="modal-actions">
        <button class="cancelar" (click)="fecharModal()">Cancelar</button>
        <button class="salvar" (click)="criarEquipe()">Salvar</button>
      </div>
    </div>
  </div>
 
  <!-- Modal Detalhes -->
  <div class="modal" *ngIf="detalhesEquipe">
    <div class="modal-content detalhes">
      <h2>{{ detalhesEquipe.nome }}</h2>
      <p><strong>L√≠der:</strong> {{ detalhesEquipe.lider }}</p>
 
      <label>Etiqueta</label>
      <select [(ngModel)]="detalhesEquipe.etiqueta" [ngClass]="detalhesEquipe.etiqueta">
        <option value="pendente">Pendente</option>
        <option value="atrasada">Atrasada</option>
        <option value="afazer">A fazer</option>
        <option value="finalizada">Finalizada</option>
      </select>
      <span class="tag" [ngClass]="detalhesEquipe.etiqueta">{{ detalhesEquipe.etiqueta }}</span>
 
      <label>Data prazo</label>
      <input type="date" [(ngModel)]="detalhesEquipe.dataPrazo" />
 
      <label>Descri√ß√£o</label>
      <textarea [(ngModel)]="detalhesEquipe.descricao"></textarea>
 
      <div class="checklist">
        <label>Checklist</label>
        <ul>
          <li *ngFor="let item of detalhesEquipe.checklist; let i = index">
            <input type="checkbox" [(ngModel)]="item.feito" />
            {{ item.tarefa }}
            <button (click)="removerChecklistItem(i)">üóë</button>
          </li>
        </ul>
        <input [(ngModel)]="novoChecklist" placeholder="Novo item..." />
        <button class="add" (click)="adicionarChecklist()">Adicionar</button>
      </div>
 
      <div class="comentarios">
        <label>Coment√°rios</label>
        <ul>
          <li *ngFor="let c of detalhesEquipe.comentarios">
            <strong>{{ c.usuario }}</strong> - <small>{{ c.data | date: 'short' }}</small><br />
            {{ c.texto }}
          </li>
        </ul>
        <input [(ngModel)]="novoComentario" placeholder="Escreva um coment√°rio..." />
        <button (click)="adicionarComentario()">Enviar</button>
      </div>
 
      <div class="modal-actions">
        <button class="cancelar" (click)="fecharDetalhes()">Fechar</button>
        <button class="salvar" (click)="salvarDetalhes()">Salvar</button>
      </div>
    </div>
  </div>
</div>
 